---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, echo = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "README-"
)
library(archive)
```
# archive
[![Travis-CI Build Status](https://travis-ci.org/jimhester/archive.svg?branch=master)](https://travis-ci.org/jimhester/archive)

R bindings to libarchive <http://www.libarchive.org>, providing support for
many file archives, including tar, ZIP, 7-zip, RAR, CAB including those
compressed by gzip, bzip2, compress, lzma, xz, and others.

## Installation

You can install archive from github with:


``` r
# install.packages("devtools")
devtools::install_github("jimhester/archive")
```

## Example

```{r}
# Write data to zip
w_con <- archive_write("mtcars.7z", "mtcars.csv")
readr::write_csv(mtcars, w_con)

# Read from zip
a <- archive("mtcars.zip")
a

con2 <- archive_read(a, 1)

mt <- readr::read_csv(con2)
mt

# Write and Read from 7z
readr::write_csv(mt, archive_write("mtcars.7z", "mtcars.csv"))
readr::read_csv(archive_read("mtcars.7z"))

# Archive file sizes
file.size(c("mtcars.zip", "mtcars.7z"))
```

